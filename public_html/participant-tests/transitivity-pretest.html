<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Transitivity Pretest</title>
      <!-- Specify the favicon -->
      <link rel="icon" type="image/png" href="/1426963167.png">
      <!-- Bootstrap CSS -->
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
      <link rel="stylesheet" href="/styles.css">
      <!-- Popup box -->
      <link rel="stylesheets" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
   </head>
   <body>
      <nav class="navbar navbar-light">
         <div class="container-fluid">
            <a class="navbar-brand" href="/index.html" style="background-color: transparent; color: black; color: #741736; border-color: #741736;">
            <img src="/1426963167.png" alt="" width="30" height="24" class="d-inline-block align-text-top">
            Home
            </a>
            <div class="center">
               <button onclick="goBack()" style="background-color: #741736; border: none; color: white;">
               Go Back
               </button>
            </div>
            <div class="center">
               <button onclick="instruction()" style="background-color: #741736; border: none; color: white;">
               Instructions
               </button>
            </div>
         </div>
      </nav>
      <!--  -->
      <div id="popupModal" class="modal fade" role="dialog">
         <div class="modal-dialog">
            <div class="modal-content">
               <div class="modal-header">
                  <h2>Instructions</h2>
               </div>
               <div class="modal-body">
                  <p>
                      You will hear a sound or see images from the computer. After you hear the sound or see an image, a green box will appear on the screen. Touch the green box to hear a second stimi. 
                     After you hear the second stimi, a white box will appear on the screen. If you think the first and second go together, touch the white box and that says ‘click.’ 
                     If they do not go together, then do not touch the box and wait for the box to disappear. During this phase, you get no points or sounds as feedback. 
                     Remember, you can read these instructions at any time by clcking the button that says "Instructions".
                  </p>
               </div>
               <div class="modal-footer">
                  <button type="button" class="btn btn-danger" data-dismiss="modal" style="background-color: #741736; border: none; color: white;">Close</button>
               </div>
            </div>
         </div>
      </div>
      <!--  -->
     <div class="center">
        <a id="block0" class="card" href="/transitivity-pretest/test1.html" class="card-link" style="background-color: #741736; color: black; width: 18rem; color: white; border-color: #741736;">
           <div class="card-body">
              <h5 class="card-title">Test 1</h5>
           </div>
        </a>
        <a id="block1" class="card" href="/transitivity-pretest/test2.html" class="card-link" style="background-color: #741736; color: black; width: 18rem; color: white; border-color: #741736;">
           <div class="card-body">
              <h5 class="card-title">Test 2</h5>
           </div>
        </a>
        <a id="block2" class="card" href="/transitivity-pretest/test3.html" class="card-link" style="background-color: #741736; color: black; width: 18rem; color: white; border-color: #741736;">
           <div class="card-body">
              <h5 class="card-title">Test 3</h5>
           </div>
        </a>
     </div>
      <!-- Option 1: Bootstrap Bundle with Popper -->
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        <!-- jQuery -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <!-- Bootstrap JS -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <!-- Custom Scripts -->
        <script src="https://www.vbl-s-mts.com/getUID.js"></script>
        <script src="https://www.vbl-s-mts.com/testingFunctions.js"></script>
        <script type="text/javascript">
            function instruction() {
                $(document).ready(function() {
                    setTimeout(function(){
                        $("#popupModal").modal("show");
                    }, 500); // time in milliseconds
                });
            }

            function goBack() {
                window.history.back();
            }

            document.addEventListener("DOMContentLoaded", function() {
                // Get a reference to the close button
                var closeButton = document.querySelector(".btn.btn-danger[data-dismiss='modal']");
                // Add a click event listener to the close button
                closeButton.addEventListener("click", function() {
                    // Close the modal by finding its parent modal element and calling the Bootstrap method to hide it
                    var modal = document.querySelector("#popupModal");
                    var bootstrapModal = bootstrap.Modal.getInstance(modal);
                    bootstrapModal.hide();
                });
            });     

            // Determine which block to show based on blockTracker
            var blockTracker = Number(PreTransTaken());
            var blockToShow = blockTracker % 3; // Assuming there are 10 blocks

            // Hide all blocks initially
            $(document).ready(function() {
                $(".card").hide();
                // Show the block that needs to be displayed
                $("#block" + blockToShow).show();
            });
        </script>
   </body>
</html>
